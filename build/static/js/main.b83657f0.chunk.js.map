{"version":3,"sources":["containers/Login/index.styl","reducers/ShoppingCart/actiontypes.js","containers/Home/index.styl","reducers/Auth/actions.js","reducers/Auth/actiontypes.js","containers/Login/index.js","components/AuthRoute/index.js","containers/Home/index.js","containers/App.js","utils/storage.js","reducers/Auth/reducer.js","reducers/Auth/index.js","reducers/index.js","store/index.js","assets/js/middleware.js","index.js","reducers/Todo/reducer.js","reducers/Todo/index.js","reducers/ShoppingCart/reducer.js","reducers/ShoppingCart/index.js","reducers/Todo/actiontypes.js","webpack:///./src/containers/Login/index.styl?327a","webpack:///./src/containers/Home/index.styl?c1b4"],"names":["exports","module","__webpack_require__","push","i","locals","login","title","nav","btn","manager","d","__webpack_exports__","ADD_TO_CART","CHECKOUT_SUCCESS","CHECKOUT_FAILURE","RECEIVE_PRODUCTS","header","logo","header-title","content","tab","tabitem","tabitem-title","tabitem-mune","tabitem-li","view","rlink","signIn","token","type","signOut","Login","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","visitor","actions","history","pathname","state","_react_16_6_3_react_default","a","createElement","id","styleName","onClick","React","Component","CSSLogin","CSSModules","styles","allowMultiple","connect","dispatch","ownProps","bindActionCreators","AllActions","AuthRoute","_this$props","component","isAuthenticated","rest","objectWithoutProperties","Route","assign","render","Prompt","message","Redirect","to","from","location","auth","MyLoadingComponent","_ref","isLoading","error","Home","slice","AsyncHome","Loadable","loader","e","then","bind","loading","AsyncShoppingCart","AsyncTodo","AsyncNoMatch","src","process","NavLink","exact","concat","match","path","Switch","components_AuthRoute","App","HashRouter","basename","setLocalStorage","name","JSON","stringify","window","localStorage","setItem","getLocalStorage","value","getItem","removeLocalStorage","removeItem","initialState","Storage","arguments","length","undefined","action","objectSpread","combineReducers","shoppingcart","todo","middleware","thunk","store","createStore","reducer","applyMiddleware","apply","_prefix","console","log","axios","defaults","baseURL","interceptors","request","use","config","headertoken","getTokenFromAuth","getState","headers","Promise","reject","response","data","SetAxiosConfig","es","containers_App","document","getElementById","text","completed","getTodosLength","getVisibleTodos","getCompletedTodoCount","todos","undoable","ActionTypes","toConsumableArray","reduce","maxId","Math","max","filter","map","areAllMarked","every","visibilityFilter","getTodos","present","createSelector","FilterTypes","t","Error","count","addedIds","quantityById","indexOf","productId","defineProperty","products","byId","obj","product","updateProduct","inventory","visibleIds","cart","getAddedIds","getQuantity","getProductById","getTotal","total","price","toFixed","getCartProducts","quantity","getVisibleProducts","getProductsVisibleIds","ADD_TODO","DELETE_TODO","EDIT_TODO","COMPLETE_TODO","COMPLETE_ALL_TODOS","CLEAR_COMPLETED","SET_VISIBILITY_FILTER","SHOW_ALL","SHOW_COMPLETED","SHOW_ACTIVE","options","hmr","transform","insertInto"],"mappings":"8EAAAA,EAAAC,EAAAD,QAA2BE,EAAQ,GAARA,EAA4E,IAKvGC,KAAA,CAAcF,EAAAG,EAAS,qnBAAmnB,KAG1oBJ,EAAAK,OAAA,CACAC,MAAA,cACAC,MAAA,cACAC,IAAA,cACAC,IAAA,cACAC,QAAA,gDCbAR,EAAAS,EAAAC,EAAA,sBAAAC,IAAAX,EAAAS,EAAAC,EAAA,sBAAAE,IAAAZ,EAAAS,EAAAC,EAAA,sBAAAG,IAAAb,EAAAS,EAAAC,EAAA,sBAAAI,IAAO,IAAMH,EAAc,cACdC,EAAmB,mBACnBC,EAAmB,mBACnBC,EAAmB,yCCHhChB,EAAAC,EAAAD,QAA2BE,EAAQ,GAARA,EAA4E,IAKvGC,KAAA,CAAcF,EAAAG,EAAS,2qCAAyqC,KAGhsCJ,EAAAK,OAAA,CACAY,OAAA,cACAC,KAAA,cACAC,eAAA,cACAC,QAAA,cACAC,IAAA,cACAC,QAAA,cACAC,gBAAA,cACAC,eAAA,cACAC,aAAA,cACAC,KAAA,cACAC,MAAA,wVChBaC,EAAS,SAAAC,GAAK,MAAK,CAC/BC,KCJsB,UDKtBD,UAIYE,EAAU,iBAAO,CAC7BD,KCTwB,aCOnBE,cAKL,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IAClBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAIPQ,QAAU,WACTP,EAAKD,MAAMS,QAAQd,OAAO,IAC1BM,EAAKD,MAAMU,QAAQxC,KAAK,CACvByC,SAAU,mBAROV,EAYnBxB,QAAU,WACTwB,EAAKD,MAAMS,QAAQd,OAAO,qBAC1BM,EAAKD,MAAMU,QAAQxC,KAAK,CACvByC,SAAU,mBAbXV,EAAKW,MAAQ,GAFKX,wEAoBlB,OACCY,EAAAC,EAAAC,cAAA,OAAKC,GAAG,QAAQC,UAAU,SACzBJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SAAf,kFACAJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,MAAMC,QAASd,KAAKI,SAAnC,gBACAK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cAAcC,QAASd,KAAK3B,SAA3C,+BA9Be0C,IAAMC,WA0CpBC,EAAWC,IAAWvB,EAAOwB,IAAQ,CAC1CC,eAAe,IAODC,cAAQ,KAJI,SAACC,EAAUC,GAAX,MAAyB,CACnDlB,QAASmB,YAAmBC,EAAYH,KAG1BD,CAAkCJ,+DCrD3CS,cAKL,SAAAA,EAAY9B,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0B,IAClB7B,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4B,GAAAvB,KAAAH,KAAMJ,KACDY,MAAQ,GAFKX,wEAMV,IAAA8B,EACoC3B,KAAKJ,MAA1CgC,EADCD,EACDC,UAAUC,EADTF,EACSE,gBAAmBC,EAD5BhC,OAAAiC,EAAA,EAAAjC,CAAA6B,EAAA,iCAEFX,EAAYY,EAIlB,OACCnB,EAAAC,EAAAC,cAACqB,EAAA,EAADlC,OAAAmC,OAAA,GACKH,EADL,CAECI,OACC,SAAAtC,GAAK,MAAwB,MAApBiC,EAA2BpB,EAAAC,EAAAC,cAACK,EAAcpB,GAE7Ca,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAQC,QAAQ,mIACf3B,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CACIC,GAAI,CACF/B,SAAU,IACVC,MAAO,CAAE+B,KAAM3C,EAAM4C,yBA5BhBzB,IAAMC,WA4CfK,cAJS,SAACb,EAAOe,GAAR,MAAsB,CAC7CM,gBAAiBrB,EAAMiC,KAAKZ,kBAGW,KAAzBR,CAA+BK,GCzCxCgB,EAAqB,SAAAC,GAGrB,IAFLC,EAEKD,EAFLC,UACAC,EACKF,EADLE,MAEA,OAAGD,EACKnC,EAAAC,EAAAC,cAAA,yBACEkC,EACFpC,EAAAC,EAAAC,cAAA,2DAEA,MAIHmC,cACL,SAAAA,EAAYlD,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8C,IAClBjD,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgD,GAAA3C,KAAAH,KAAMJ,KACDY,MAAQ,GAEM,KACUuC,MAAM,GAAI,GALrB,OAAAlD,wEAkBlB,IAAMmD,EAAYC,IAAS,CAC1BC,OAAQ,kBACPrF,EAAAsF,EAAA,GAAAC,KAAAvF,EAAAwF,KAAA,YACDC,QAASZ,IAGJa,EAAoBN,IAAS,CAClCC,OAAQ,kBACPrF,EAAAsF,EAAA,GAAAC,KAAAvF,EAAAwF,KAAA,YACDC,QAASZ,IAGJc,EAAYP,IAAS,CAC1BC,OAAQ,kBACPrF,EAAAsF,EAAA,GAAAC,KAAAvF,EAAAwF,KAAA,YACDC,QAASZ,IAGJe,EAAeR,IAAS,CAC7BC,OAAQ,kBACPrF,EAAAsF,EAAA,GAAAC,KAAAvF,EAAAwF,KAAA,YACDC,QAASZ,IAGV,OACCjC,EAAAC,EAAAC,cAAA,OAAKC,GAAG,QACPH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OAAO6C,IAAMC,qBAC5BlD,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBAAf,iCAEDJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBAAf,4BACAJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACdJ,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,MAAIE,UAAU,cACbJ,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CAASC,OAAK,EAACvB,GAAE,GAAAwB,OAAK9D,KAAKJ,MAAMmE,MAAMC,KAAtB,YAAsCnD,UAAU,SAAjE,0BAEDJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,cACbJ,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CAAStB,GAAE,GAAAwB,OAAK9D,KAAKJ,MAAMmE,MAAMC,KAAtB,iBAA2CnD,UAAU,SAAhE,qCAEDJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,cACbJ,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CAAStB,GAAE,GAAAwB,OAAK9D,KAAKJ,MAAMmE,MAAMC,KAAtB,SAAmCnD,UAAU,SAAxD,8BAEDJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,cACbJ,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CAAStB,GAAE,GAAAwB,OAAK9D,KAAKJ,MAAMmE,MAAMC,KAAtB,UAAoCnD,UAAU,SAAzD,sDAMLJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACdJ,EAAAC,EAAAC,cAACsD,EAAA,EAAD,KACCxD,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAO6B,OAAK,EAACG,KAAI,GAAAF,OAAK9D,KAAKJ,MAAMmE,MAAMC,KAAtB,YAAsCpC,UAAWoB,IAClEvC,EAAAC,EAAAC,cAACuD,EAAD,CAAWF,KAAI,GAAAF,OAAK9D,KAAKJ,MAAMmE,MAAMC,KAAtB,iBAA2CpC,UAAW2B,IACrE9C,EAAAC,EAAAC,cAACuD,EAAD,CAAWF,KAAI,GAAAF,OAAK9D,KAAKJ,MAAMmE,MAAMC,KAAtB,SAAmCpC,UAAW4B,IAC7D/C,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAOJ,UAAW6B,eA5EN1C,IAAMC,WAqFVE,MAAW4B,EAAM3B,IAAQ,CACvCC,eAAe,IC5ED+C,cAzBd,SAAAA,EAAYvE,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmE,IAClBtE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqE,GAAAhE,KAAAH,KAAMJ,KACDY,MAAQ,GAFKX,wEAMlB,OACCY,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAYC,SAAS,KACpB5D,EAAAC,EAAAC,cAACsD,EAAA,EAAD,KACCxD,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAO6B,OAAK,EAACG,KAAK,IAAI9B,OAAQ,SAAAtC,GAAK,OAClCa,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CACOC,GAAI,CACF/B,SAAU,SACVC,MAAO,CAAE+B,KAAM3C,EAAM4C,gBAI/B/B,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAO6B,OAAK,EAACG,KAAK,SAASpC,UAAWjC,IACtCc,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAOgC,KAAK,QAAQpC,UAAWkB,aAnBlB/B,IAAMC,0CCJXsD,EAAkB,SAACC,EAAMxF,GACjCwF,IACkB,kBAAZxF,IACTA,EAAUyF,KAAKC,UAAU1F,IAE1B2F,OAAOC,aAAaC,QAAQL,EAAMxF,KAItB8F,EAAkB,SAAAN,GAC9B,GAAIA,EACJ,IACC,IAAIO,EAAQJ,OAAOC,aAAaI,QAAQR,GACxC,OAAGO,GAGK,GAEP,MAAM3B,GACP,MAAO,KAKI6B,EAAqB,SAAAT,GAC7BA,GACJG,OAAOC,aAAaM,WAAWV,ICxB1BW,EAAe,CACpBrD,gBAAiBsD,EAAwB,mBAAqBA,EAAwB,mBAAqB,IAC3G3F,MAAO2F,EAAwB,SAAWA,EAAwB,SAAW,ICH/D1C,EDMF,WAAkC,IAAjCjC,EAAiC4E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBF,EAAcK,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC9C,OAAOC,EAAO9F,MACb,INVqB,UMWpB,MAAoB,KAAjB8F,EAAO/F,OACT2F,EAA2B,SAC3BA,EAA2B,mBACpBrF,OAAA0F,EAAA,EAAA1F,CAAA,GAAKU,EAAZ,CAAmBhB,MAAO,GAAIqC,gBAAgB,QAE9CsD,EAAwB,QAASI,EAAO/F,OACxC2F,EAAwB,kBAAmB,KACpCrF,OAAA0F,EAAA,EAAA1F,CAAA,GAAKU,EAAZ,CAAmBhB,MAAO+F,EAAO/F,MAAOqC,gBAAgB,OAE1D,INnBuB,WMsBtB,OAFAsD,EAA2B,SAC3BA,EAA2B,mBACpBrF,OAAA0F,EAAA,EAAA1F,CAAA,GAAKU,EAAZ,CAAmBhB,MAAO,GAAIqC,gBAAgB,MAC/C,QACC,OAAOrB,IEpBKiF,cAAgB,CAC9BC,iBACAC,SACAlD,SCJKmD,EAAa,CAACC,KAELC,EADDC,YAAYC,EAASC,IAAeC,WAAf,EAAmBN,sCCCxB,SAASE,GACtC,IAAIK,EAAU,GAGbA,EAAO,GAAArC,OAAMH,GAAN,QAIRyC,QAAQC,IAAI,eAAe1C,wDAC3B2C,IAAMC,SAASC,QAAUL,EAGzBG,IAAMG,aAAaC,QAAQC,IAC1B,SAASC,GACR,IAAIC,EAAc,GACdrH,EHjBkB,SAAAgB,GAAK,OAAKA,EAAMiC,KAAKjD,MACZsH,CGgBVhB,EAAMiB,YAW3B,OAVGvH,EACFqH,EAAcrH,EACLqF,EAAgB,WACzBgC,EAAchC,EAAgB,SAC9BiB,EAAMxE,SAAS/B,EAAOsH,KAEpBA,IAEFD,EAAOI,QAAP,SAAAlD,OAA6B+C,IAEvBD,GAER,SAAS/D,GACR,OAAOoE,QAAQC,OAAOrE,KAKxByD,IAAMG,aAAaU,SAASR,IAAI,SAASQ,GACxC,OAAOA,GACL,SAAStE,GACX,GAAGA,EAAMsE,SACR,OAAOtE,EAAMsE,SAAS3G,OACrB,KAAK,IAIL,KAAK,IAGJ,MACD,QACC,OAAOyG,QAAQC,OAAOrE,EAAMsE,SAASC,SC5C1CC,CAAevB,GAEf5D,iBACCzB,EAAAC,EAAAC,cAAC2G,EAAA,EAAD,CAAUxB,MAAOA,GACbrF,EAAAC,EAAAC,cAAC4G,EAAD,OACWC,SAASC,eAAe,2ECblCvC,EAAe,CAAC,CACpBwC,KAAM,iBACNC,WAAW,EACX/G,GAAI,GAEL,CACC8G,KAAM,iBACNC,WAAW,EACX/G,GAAI,6BCVN/C,EAAAS,EAAAC,EAAA,sBAAAqJ,IAAA/J,EAAAS,EAAAC,EAAA,sBAAAsJ,IAAAhK,EAAAS,EAAAC,EAAA,sBAAAuJ,IAQAvJ,EAAA,EAAekH,WAAf,CAA+B,CAC9BsC,MAAOC,IDMa,WAAkC,IAAjCxH,EAAiC4E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBF,EAAcK,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtD,OAAOC,EAAO9F,MACb,KAAKwI,IAEJ,OAAOnI,OAAAoI,EAAA,EAAApI,CACHU,GADJsD,OAAA,CAEC,CACClD,GAAIJ,EAAM2H,OAAO,SAACC,EAAOzC,GAAR,OAAiB0C,KAAKC,IAAI3C,EAAK/E,GAAIwH,KAAS,GAAK,EAClET,WAAW,EACXD,KAAMnC,EAAOmC,QAIhB,KAAKO,IACJ,OAAOzH,EAAM+H,OAAO,SAAA5C,GAAI,OACvBA,EAAK/E,KAAO2E,EAAO3E,KAGrB,KAAKqH,IACJ,OAAOzH,EAAMgI,IAAI,SAAA7C,GAAI,OACpBA,EAAK/E,KAAO2E,EAAO3E,GAAnBd,OAAA0F,EAAA,EAAA1F,CAAA,GAA6B6F,EAA7B,CACC+B,KAAMnC,EAAOmC,OAEd/B,IAGF,KAAKsC,IACJ,OAAOzH,EAAMgI,IAAI,SAAA7C,GAAI,OACpBA,EAAK/E,KAAO2E,EAAO3E,GAAnBd,OAAA0F,EAAA,EAAA1F,CAAA,GAA6B6F,EAA7B,CACCgC,WAAYhC,EAAKgC,YAElBhC,IAGF,KAAKsC,IACJ,IAAMQ,EAAejI,EAAMkI,MAAM,SAAA/C,GAAI,OAAIA,EAAKgC,YAC9C,OAAOnH,EAAMgI,IAAI,SAAA7C,GAAI,OAAA7F,OAAA0F,EAAA,EAAA1F,CAAA,GACjB6F,EADiB,CAEpBgC,WAAYc,MAGd,KAAKR,IACJ,OAAOzH,EAAM+H,OAAO,SAAA5C,GAAI,OAAuB,IAAnBA,EAAKgC,YAElC,QACC,OAAOnH,KClDTmI,iBDuD+B,WAA0C,IAAzCnI,EAAyC4E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAjC6C,IAAsB1C,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACzE,OAAOC,EAAO9F,MACb,KAAKwI,IACJ,OAAO1C,EAAOgD,OACf,QACC,OAAO/H,MC9DV,IAMMoI,EAAW,SAAApI,GAAK,OAAIA,EAAMmF,KAAKoC,MAAMc,SAG9BjB,EAAiBkB,YAAe,CAACF,GAAW,SAACb,GAAD,OACxDA,EAAM1C,SAKMwC,EAAkBiB,YAAe,CAVlB,SAAAtI,GAAK,OAAIA,EAAMmF,KAAKgD,kBAUoBC,GAAW,SAACD,EAAkBZ,GACjG,OAAOY,GACN,KAAKI,IACJ,OAAOhB,EACR,KAAKgB,IACJ,OAAOhB,EAAMQ,OAAO,SAAAS,GAAC,OAAIA,EAAErB,YAC5B,KAAKoB,IACJ,OAAOhB,EAAMQ,OAAO,SAAAS,GAAC,OAAKA,EAAErB,YAC7B,QACC,MAAM,IAAIsB,MAAM,mBAAqBN,MAK3Bb,EAAwBgB,YAAe,CAACF,GAAW,SAACb,GAAD,OAC/DA,EAAMI,OAAO,SAACe,EAAOvD,GAAR,OAAiBA,EAAKgC,UAAYuB,EAAQ,EAAIA,GAAO,gFClC7DhE,EAAe,CACpBiE,SAAU,GACVC,aAAc,IAITD,EAAW,WAA2C,IAA1C3I,EAA0C4E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAlCF,EAAaiE,SAAU5D,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC3D,OAAOC,EAAO9F,MACb,KAAKjB,IACJ,OAAwC,IAArCgC,EAAM6I,QAAQ9D,EAAO+D,WAChB9I,EAEDV,OAAAoI,EAAA,EAAApI,CAAIU,GAAXsD,OAAA,CAAkByB,EAAO+D,YAC1B,QACC,OAAO9I,IAKJ4I,EAAe,WAA+C,IAA9C5I,EAA8C4E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtCF,EAAakE,aAAc7D,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnE,OAAOC,EAAO9F,MACb,KAAKjB,IAAL,IACQ8K,EAAa/D,EAAb+D,UACP,OAAOxJ,OAAA0F,EAAA,EAAA1F,CAAA,GAAKU,EAAZV,OAAAyJ,EAAA,EAAAzJ,CAAA,GAAmBwJ,GAAa9I,EAAM8I,IAAc,GAAK,IAC1D,QACC,OAAO9I,IA4DGgJ,EAAW/D,YAAgB,CACvCgE,KApCY,WAAwB,IAAvBjJ,EAAuB4E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIG,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpC,OAAOC,EAAO9F,MACb,KAAKd,IAEJ,OAAOmB,OAAA0F,EAAA,EAAA1F,CAAA,GACHU,EACA+E,EAAOiE,SAASrB,OAAO,SAACuB,EAAKC,GAE/B,OADAD,EAAIC,EAAQ/I,IAAM+I,EACXD,GACL,KAEL,KAAKlL,IAAL,IAEQ8K,EAAa/D,EAAb+D,UACP,GAAGA,EAAW,CACb,IAAMK,EAAUnJ,EAAM8I,GAChBM,EAAa9J,OAAA0F,EAAA,EAAA1F,CAAA,GAAO6J,EAAP,CAAeE,UAAWF,EAAQE,UAAY,IACjE,OAAO/J,OAAA0F,EAAA,EAAA1F,CAAA,GAAIU,EAAXV,OAAAyJ,EAAA,EAAAzJ,CAAA,GAAmBwJ,EAAYM,IAEhC,OAAOpJ,EACR,QACC,OAAOA,IAgBTsJ,WAXkB,WAAwB,IAAvBtJ,EAAuB4E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIG,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1C,OAAOC,EAAO9F,MACb,KAAKd,IACJ,OAAO4G,EAAOiE,SAAShB,IAAI,SAAAmB,GAAO,OAAIA,EAAQ/I,KAC/C,QACC,OAAOJ,sGClFKiF,gBAAgB,CAC9BsE,KD8BmB,WAAkC,IAAjCvJ,EAAiC4E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBF,EAAcK,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrD,OAAOC,EAAO9F,MACb,KAAKhB,IAEJ,OAAOyG,EACR,KAAKxG,IAEJ,OAAO6G,EAAOwE,KACf,QAEC,MAAO,CACNZ,SAAUA,EAAS3I,EAAM2I,SAAU5D,GACnC6D,aAAcA,EAAa5I,EAAM4I,aAAc7D,MCzClDiE,aAFc/D,IAKTuE,EAAc,SAAAxJ,GAAK,OAAKA,EAAMkF,aAAaqE,KAAKZ,UAChDc,EAAc,SAACzJ,EAAOI,GAAR,OAAgBJ,EAAMkF,aAAaqE,KAAKX,aAAaxI,IAAO,GAC1EsJ,EAAiB,SAAC1J,EAAOI,GAAR,OAAgBJ,EAAMkF,aAAa8D,SAASC,KAAK7I,IAI3DuJ,EAAW,SAAA3J,GAAK,OAC5BwJ,EAAYxJ,GAAO2H,OAAO,SAACiC,EAAOxJ,GAAR,OAAcwJ,EAAQF,EAAe1J,EAAOI,GAAIyJ,MAAQJ,EAAYzJ,EAAOI,IAAK,GAAG0J,QAAQ,IAGzGC,EAAkB,SAAA/J,GAAK,OACnCwJ,EAAYxJ,GAAOgI,IAAI,SAAA5H,GAAE,OAAAd,OAAA0F,EAAA,EAAA1F,CAAA,GAASoK,EAAe1J,EAAOI,GAA/B,CAAmC4J,SAAUP,EAAYzJ,EAAOI,QAG7E6J,EAAqB,SAAAjK,GACjC,OAZ6B,SAACA,GAAD,OAAYA,EAAMkF,aAAa8D,SAASM,WAY9DY,CAAsBlK,GAAOgI,IAAI,SAAA5H,GAAE,OAAIsJ,EAAe1J,EAAOI,sCCvBrE/C,EAAAS,EAAAC,EAAA,sBAAAoM,IAAA9M,EAAAS,EAAAC,EAAA,sBAAAqM,IAAA/M,EAAAS,EAAAC,EAAA,sBAAAsM,IAAAhN,EAAAS,EAAAC,EAAA,sBAAAuM,IAAAjN,EAAAS,EAAAC,EAAA,sBAAAwM,IAAAlN,EAAAS,EAAAC,EAAA,sBAAAyM,IAAAnN,EAAAS,EAAAC,EAAA,sBAAA0M,IAAApN,EAAAS,EAAAC,EAAA,sBAAA2M,IAAArN,EAAAS,EAAAC,EAAA,sBAAA4M,IAAAtN,EAAAS,EAAAC,EAAA,sBAAA6M,IAAO,IAAMT,EAAW,WACXC,EAAc,cACdC,EAAY,YACZC,EAAgB,gBAChBC,EAAqB,qBACrBC,EAAkB,kBAClBC,EAAwB,wBAExBC,EAAW,WACXC,EAAiB,iBACjBC,EAAc,kCCT3B,IAAArM,EAAclB,EAAQ,KAEtB,kBAAAkB,MAAA,EAA4CnB,EAAAG,EAASgB,EAAA,MAOrD,IAAAsM,EAAA,CAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAlG,GAEazH,EAAQ,GAARA,CAAmFkB,EAAAsM,GAEhGtM,EAAAf,SAAAJ,EAAAD,QAAAoB,EAAAf,4BChBA,IAAAe,EAAclB,EAAQ,KAEtB,kBAAAkB,MAAA,EAA4CnB,EAAAG,EAASgB,EAAA,MAOrD,IAAAsM,EAAA,CAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAlG,GAEazH,EAAQ,GAARA,CAAmFkB,EAAAsM,GAEhGtM,EAAAf,SAAAJ,EAAAD,QAAAoB,EAAAf","file":"static/js/main.b83657f0.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".index-3dLJN .index-2BoJG {\\n  text-align: center;\\n  font-size: 46px;\\n  font-weight: bold;\\n  margin-top: 200px;\\n}\\n.index-3dLJN .index-3wMGx {\\n  display: flex;\\n  margin-top: 50px;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.index-3dLJN .index-4WRo8 {\\n  min-width: 140px;\\n  text-align: center;\\n  font-size: 24px;\\n  cursor: pointer;\\n  border-radius: 30px;\\n  background-color: #009688;\\n  color: #fff;\\n  width: fit-content;\\n  padding: 10px;\\n  margin-top: 0px;\\n}\\n.index-3dLJN .index-b501t {\\n  margin-left: 20px;\\n  color: #808080;\\n  background-color: transparent;\\n  border: solid 1px #009688;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"login\": \"index-3dLJN\",\n\t\"title\": \"index-2BoJG\",\n\t\"nav\": \"index-3wMGx\",\n\t\"btn\": \"index-4WRo8\",\n\t\"manager\": \"index-b501t\"\n};","export const ADD_TO_CART = 'ADD_TO_CART'\r\nexport const CHECKOUT_SUCCESS = 'CHECKOUT_SUCCESS'\r\nexport const CHECKOUT_FAILURE = 'CHECKOUT_FAILURE'\r\nexport const RECEIVE_PRODUCTS = 'RECEIVE_PRODUCTS'\r\n","exports = module.exports = require(\"../../../node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".index-2j7iN {\\n  background-color: #009688;\\n  height: 50px;\\n  width: 100%;\\n  display: flex;\\n}\\n.index-2j7iN .index-3RSxJ {\\n  height: 50px;\\n}\\n.index-2j7iN .index--8sBi {\\n  color: #fff;\\n  font-size: 24px;\\n  height: 100%;\\n  margin-left: 40px;\\n  line-height: 46px;\\n}\\n.index-3mzNT {\\n  display: flex;\\n  width: 100%;\\n  top: 50px;\\n  bottom: 0px;\\n  background: #fff;\\n  position: absolute;\\n}\\n.index-FxQzN {\\n  overflow-y: auto;\\n  height: 100%;\\n  width: 250px;\\n  border-right: solid 1px #000;\\n  background-color: #00746a;\\n}\\n.index-FxQzN .index-3dZXD {\\n  padding: 20px;\\n}\\n.index-FxQzN .index-3dZXD .index-35iMU {\\n  padding: 5px;\\n  color: #e4e4e4;\\n  padding-left: 20px;\\n  font-size: 20px;\\n  border-radius: 5px;\\n}\\n.index-FxQzN .index-3dZXD .index-3Ljix {\\n  margin-top: 5px;\\n  padding-left: 20px;\\n}\\n.index-FxQzN .index-3dZXD .index-3Ljix .index-15R8L {\\n  cursor: pointer;\\n  margin-top: 10px;\\n  width: fit-content;\\n  color: #fff;\\n}\\n.index-17Iy1 {\\n  overflow-y: auto;\\n  flex: 1;\\n  height: 100%;\\n  background-color: #fff;\\n  padding-top: 30px;\\n  padding-left: 50px;\\n  padding-right: 150px;\\n}\\n.index-25c0b {\\n  text-decoration: none;\\n  color: #fff;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"header\": \"index-2j7iN\",\n\t\"logo\": \"index-3RSxJ\",\n\t\"header-title\": \"index--8sBi\",\n\t\"content\": \"index-3mzNT\",\n\t\"tab\": \"index-FxQzN\",\n\t\"tabitem\": \"index-3dZXD\",\n\t\"tabitem-title\": \"index-35iMU\",\n\t\"tabitem-mune\": \"index-3Ljix\",\n\t\"tabitem-li\": \"index-15R8L\",\n\t\"view\": \"index-17Iy1\",\n\t\"rlink\": \"index-25c0b\"\n};","import * as types from './actiontypes'\r\n\r\n// 获取授权\r\nexport const signIn = token => ({\r\n\ttype: types.SIGN_IN,\r\n\ttoken\r\n})\r\n\r\n// 取消授权\r\nexport const signOut = () => ({\r\n\ttype: types.SIGN_OUT\r\n})","export const SIGN_IN = 'SIGN_IN'\r\nexport const SIGN_OUT  = 'SIGN_OUT'\r\n","import React from 'react'\nimport styles from './index.styl'\nimport CSSModules from 'react-css-modules'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport * as AllActions from '@/reducers/Auth/actions'\nimport PropTypes from 'prop-types'\n\nclass Login extends React.Component {\n\tstatic propTypes = {\n\t\tactions: PropTypes.object.isRequired\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {}\n\t}\n\n\tvisitor = () => {\n\t\tthis.props.actions.signIn(\"\");\r\n\t\tthis.props.history.push({\r\n\t\t\tpathname: '/home/welcome'\r\n\t\t})\n\t}\n\n\tmanager = () => {\n\t\tthis.props.actions.signIn(\"API-TOKEN20181214\");\n\t\tthis.props.history.push({\n\t\t\tpathname: '/home/welcome'\n\t\t})\n\t}\n\n\trender() {\n\t\treturn(\n\t\t\t<div id=\"login\" styleName=\"login\">\n\t\t\t\t<div styleName=\"title\">欢迎使用 react+axios+redux+cssmodules 前端框架</div>\n\t\t\t\t<div styleName=\"nav\">\n\t\t\t\t\t<div styleName=\"btn\" onClick={this.visitor}>游客</div>\n\t\t\t\t\t<div styleName=\"btn manager\" onClick={this.manager}>管理员</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// 同样实现propTypes功能\n//Login.propTypes = {\n// \tactions: PropTypes.object.isRequired\n//}\n\nconst CSSLogin = CSSModules(Login, styles, {\n\tallowMultiple: true\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n\tactions: bindActionCreators(AllActions, dispatch) // 官方推荐写法，即将 dispatch(this.props.signIn()) 包装成  this.props.actions.signIn()\n})\n\nexport default connect(null, mapDispatchToProps)(CSSLogin)","import React from 'react';\r\nimport { Route, Redirect,Prompt } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass AuthRoute extends React.Component {\r\n\tstatic propTypes = {\r\n\t\tisAuthenticated: PropTypes.string.isRequired\r\n\t}\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t\t\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {component,isAuthenticated,...rest} = this.props;\r\n\t\tconst Component = component;\r\n\t\t\r\n\t\t// ……使用最新的数据渲染组件\r\n\t\t// 注意此处将已有的props属性传递给原组件\r\n\t\treturn(\r\n\t\t\t<Route \r\n\t\t\t\t{...rest}\r\n\t\t\t\trender={\r\n\t\t\t\t\tprops => isAuthenticated === \"1\" ? (<Component {...props} />) :\r\n\t\t\t\t\t    (\r\n\t\t\t\t\t      <div>\r\n\t\t\t\t\t      \t<Prompt message=\"游客身份无权限访问该模块，将自动弹到登录页\" />\r\n\t\t\t\t\t        <Redirect\r\n\t\t\t\t\t            to={{\r\n\t\t\t\t\t              pathname: \"/\",\r\n\t\t\t\t\t              state: { from: props.location }\r\n\t\t\t\t\t            }}\r\n\t\t\t\t\t        />\r\n\t\t\t\t\t      </div>\r\n\t        \t\t\t)\r\n      \t\t\t}\r\n    \t\t/>\r\n\t\t)\r\n\t}\r\n};\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\tisAuthenticated: state.auth.isAuthenticated\r\n})\r\n\r\nexport default connect(mapStateToProps, null)(AuthRoute)","import React from 'react';\nimport { Route, NavLink, Switch } from 'react-router-dom'\nimport Loadable from 'react-loadable';\nimport styles from './index.styl';\nimport CSSModules from 'react-css-modules';\nimport PrivateRoute from '@/components/AuthRoute/PrivateRoute.js'\nimport AuthRoute from '@/components/AuthRoute'\n\nconst MyLoadingComponent = ({\n\tisLoading,\n\terror\n}) => {\n\tif(isLoading) {\n\t\treturn <div>Loading...</div>\n\t} else if(error) {\n\t\treturn <div>Sorry, there was a problem loading the page.</div>\n\t} else {\n\t\treturn null;\n\t}\n};\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {}\n\n\t\tconst publicPath = './';\n\t\tconst publicUrl = publicPath.slice(0, -1);\n\n\t}\n\n\trender() {\n\t\t// 图片引用1：官网推荐，将打包成Base64，webpack打包后找不到图片具体文件     \n\t\t//\t\t<img styleName=\"logo\" src={require('./../../assets/img/logo.jpg')} />\n\t\t// 图片引用2：资源引用public目录下，webpack打包后可以找到图片具体文件，常用于大量图片文件的项目         \n\t\t//\t\t<img styleName=\"logo\" src=\"assets/logo.jpg\" />\n\t\t// const TodoRoute = PrivateRoute(Todo, {path:`${this.props.match.path}/Todo`});\n\t\t// 图片引用3：允许路径拼接，依然在public目录下，表示为webpack.config.dev.js或webpack.config.prod.js下的publicUrl路径\n\t\t//      <img styleName=\"logo\" src={ process.env.PUBLIC_URL + \"assets/logo.jpg\"} />\n\n\t\tconst AsyncHome = Loadable({\n\t\t\tloader: () =>\n\t\t\t\timport('@/containers/Welcome'),\n\t\t\tloading: MyLoadingComponent\n\t\t});\n\n\t\tconst AsyncShoppingCart = Loadable({\n\t\t\tloader: () =>\n\t\t\t\timport('@/containers/ShoppingCart'),\n\t\t\tloading: MyLoadingComponent\n\t\t});\n\n\t\tconst AsyncTodo = Loadable({\n\t\t\tloader: () =>\n\t\t\t\timport('@/containers/Todo'),\n\t\t\tloading: MyLoadingComponent\n\t\t});\n\n\t\tconst AsyncNoMatch = Loadable({\n\t\t\tloader: () =>\n\t\t\t\timport('@/containers/NoMatch'),\n\t\t\tloading: MyLoadingComponent\n\t\t});\n\n\t\treturn(\n\t\t\t<div id=\"core\">\n\t\t\t\t<div styleName=\"header\">\n\t\t\t\t\t<img styleName=\"logo\" src={ process.env.PUBLIC_URL + \"assets/logo.jpg\"} />\n\t\t\t\t\t<div styleName=\"header-title\">react+axios+redux+cssmodules</div>\n\t\t\t\t</div>\n\t\t\t\t<div styleName=\"content\">\n\t\t\t\t\t<div styleName=\"tab\">\n\t\t\t\t\t\t<div styleName=\"tabitem\">\n\t\t\t\t\t\t\t<div styleName=\"tabitem-title\">路由列表</div>\n\t\t\t\t\t\t\t<div styleName=\"tabitem-mune\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li styleName=\"tabitem-li\">\n\t\t\t\t\t\t\t\t\t\t<NavLink exact to={`${this.props.match.path}/welcome`} styleName=\"rlink\">Welcome(游客)</NavLink>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li styleName=\"tabitem-li\">\n\t\t\t\t\t\t\t\t\t\t<NavLink to={`${this.props.match.path}/shoppingcart`} styleName=\"rlink\">ShoppingCart(管理员)</NavLink>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li styleName=\"tabitem-li\">\n\t\t\t\t\t\t\t\t\t\t<NavLink to={`${this.props.match.path}/todo`} styleName=\"rlink\">Todos(管理员)</NavLink>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li styleName=\"tabitem-li\">\n\t\t\t\t\t\t\t\t\t\t<NavLink to={`${this.props.match.path}/other`} styleName=\"rlink\">NoMatch(没匹配到页面)</NavLink>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div styleName=\"view\">\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route exact path={`${this.props.match.path}/welcome`} component={AsyncHome}></Route>\n\t\t\t\t\t\t\t<AuthRoute path={`${this.props.match.path}/shoppingcart`} component={AsyncShoppingCart}></AuthRoute>\n\t\t\t\t\t\t\t<AuthRoute path={`${this.props.match.path}/todo`} component={AsyncTodo}></AuthRoute>\n\t\t\t\t\t\t\t<Route component={AsyncNoMatch}/>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default CSSModules(Home, styles, {\n\tallowMultiple: true\n});","import React from 'react';\nimport { Route, Switch, HashRouter, BrowserRouter, Redirect } from 'react-router-dom'\nimport Login from '@/containers/Login'\nimport Home from '@/containers/Home'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {}\n\t}\n\t\n\trender() {\n\t\treturn(\n\t\t\t<HashRouter basename=\"/\">\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\" render={props => (\r\n\t\t\t\t\t\t<Redirect\r\n\t\t\t\t\t        to={{\r\n\t\t\t\t\t          pathname: \"/login\",\r\n\t\t\t\t\t          state: { from: props.location }\r\n\t\t\t\t\t        }}\r\n\t\t\t\t\t    />)}>\r\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/login\" component={Login}></Route>\n\t\t\t\t\t<Route path=\"/home\" component={Home}></Route>\n\t\t\t\t</Switch>\n\t\t\t</HashRouter>\n\t\t);\n\t}\n}\n\nexport default App;\n\n//<Route exact path=\"/\" component={Login}></Route>\r\n//等价于,下面这种写法为带参写法，Redirect 表示导航到一个新的位置\r\n//<Route exact path=\"/\" render={props => (\r\n//\t<Redirect\r\n//      to={{\r\n//        pathname: \"/login\",\r\n//        state: { from: props.location }\r\n//      }}\r\n//  />)}>\r\n//</Route>\n// 获取参数\n// this.props.location.state.from","// 存储localStorage\r\nexport const setLocalStorage = (name, content) => {\r\n\tif(!name) return;\r\n\tif(typeof content !== 'string') {\r\n\t\tcontent = JSON.stringify(content);\r\n\t}\r\n\twindow.localStorage.setItem(name, content);\r\n};\r\n\r\n// 获取localStorage\r\nexport const getLocalStorage = name => {\r\n\tif(!name) return;\r\n\ttry {\r\n\t\tlet value = window.localStorage.getItem(name);\r\n\t\tif(value) {\r\n\t\t\treturn value;\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t} catch(e) {\r\n\t\treturn '';\r\n\t}\r\n};\r\n\r\n// 删除localStorage\r\nexport const removeLocalStorage = name => {\r\n\tif(!name) return;\r\n\twindow.localStorage.removeItem(name);\r\n};","import { SIGN_IN, SIGN_OUT } from './actiontypes'\r\nimport * as Storage from '@/utils/storage'\r\n\r\nconst initialState = {\r\n\tisAuthenticated: Storage.getLocalStorage(\"isAuthenticated\") ? Storage.getLocalStorage(\"isAuthenticated\") : \"0\",\r\n\ttoken: Storage.getLocalStorage(\"token\") ? Storage.getLocalStorage(\"token\") : \"\"\r\n}\r\n\r\nconst auth = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase SIGN_IN:\r\n\t\t\tif(action.token === \"\") {\r\n\t\t\t\tStorage.removeLocalStorage(\"token\")\r\n\t\t\t\tStorage.removeLocalStorage(\"isAuthenticated\")\r\n\t\t\t\treturn { ...state, token: \"\", isAuthenticated:\"0\"}\r\n\t\t\t} else {\r\n\t\t\t\tStorage.setLocalStorage(\"token\", action.token)\r\n\t\t\t\tStorage.setLocalStorage(\"isAuthenticated\", \"1\")\r\n\t\t\t\treturn { ...state, token: action.token, isAuthenticated:\"1\"}\r\n\t\t\t}\r\n\t\tcase SIGN_OUT:\r\n\t\t\tStorage.removeLocalStorage(\"token\")\r\n\t\t\tStorage.removeLocalStorage(\"isAuthenticated\")\r\n\t\t\treturn { ...state, token: \"\", isAuthenticated:\"0\"}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default auth;","import auth from './reducer'\r\n\r\nexport default auth\r\n\r\nconst getTokenFromAuth = state => (state.auth.token)\r\nexport const getToken = state => (getTokenFromAuth(state))\r\n","import { combineReducers } from 'redux'\r\nimport shoppingcart from './ShoppingCart'\r\nimport todo from './Todo'\r\nimport auth from './Auth'\r\n\r\nexport default combineReducers({\r\n\tshoppingcart,\r\n\ttodo,\r\n\tauth\r\n})","import { createStore, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport reducer from '@/reducers'\r\n\r\nconst middleware = [thunk];\r\nconst store = createStore(reducer, applyMiddleware(...middleware));\r\nexport default store;","import axios from 'axios'\r\nimport { getLocalStorage } from '@/utils/storage';\r\nimport { getToken } from '@/reducers/Auth'\r\nimport { signIn } from '@/reducers/Auth/actions'\r\n\r\n// Axios配置，网络请求时验证token\r\nexport const SetAxiosConfig = function(store) {\r\n\tlet _prefix = '';\r\n\r\n\tif(process.env.NODE_ENV === 'production') {\r\n\t\t_prefix = `${process.env.HOST}/api`\r\n\t} else {\r\n\t\t_prefix = '/api'\r\n\t}\r\n\tconsole.log('process.env:',process.env);\r\n\taxios.defaults.baseURL = _prefix;\r\n\r\n\t// 请求拦截，在头部加入token\r\n\taxios.interceptors.request.use(\r\n\t\tfunction(config) {\r\n\t\t\tlet headertoken = '';\r\n\t\t\tlet token = getToken(store.getState());\r\n\t\t\tif(token) {\r\n\t\t\t\theadertoken = token;\r\n\t\t\t} else if(getLocalStorage('token')) {\r\n\t\t\t\theadertoken = getLocalStorage('token');\r\n\t\t\t\tstore.dispatch(signIn(headertoken));\r\n\t\t\t}\r\n\t\t\tif(headertoken) {\r\n\t\t\t\t// 存在将token写入请求头部\"TOKEN\"\r\n\t\t\t\tconfig.headers['TOKEN'] = `${headertoken}`;\r\n\t\t\t}\r\n\t\t\treturn config;\r\n\t\t},\r\n\t\tfunction(error) {\r\n\t\t\treturn Promise.reject(error);\r\n\t\t}\r\n\t);\r\n\r\n\t// 请求结果\r\n\taxios.interceptors.response.use(function(response) {\r\n\t\treturn response;\r\n\t}, function(error) {\r\n\t\tif(error.response) {\r\n\t\t\tswitch(error.response.state) {\r\n\t\t\t\tcase 411:\r\n\t\t\t\t\t// 如411错误为没有token值\r\n\t\t\t\t\t// 返回处理状态和信息的Promise对象\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 412:\r\n\t\t\t\t\t// 如412错误为入参不正确\r\n\t\t\t\t\t// 返回处理状态和信息的Promise对象\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn Promise.reject(error.response.data)\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}","import React from 'react';\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from '@/containers/App.js';\nimport store from '@/store'\nimport '@/assets/styles/base.css'\nimport '@/assets/fonts/iconfont.css' // 使用方法: <i class=\"iconfont icon-arrow_left\" />\nimport { SetAxiosConfig } from '@/assets/js/middleware'\n\n// 配置Axios\nSetAxiosConfig(store);\n\nrender(\n\t<Provider store={store}>\n    \t<App />\n  \t</Provider>, document.getElementById('root')\n)","import * as ActionTypes from './actiontypes'\r\n\r\nconst initialState = [{\r\n\t\ttext: '任务-1',\r\n\t\tcompleted: false,\r\n\t\tid: 0\r\n\t},\r\n\t{\r\n\t\ttext: '任务-2',\r\n\t\tcompleted: true,\r\n\t\tid: 1\r\n\t}\r\n]\r\n\r\n// state[Array] 任务列表\r\nexport const todos = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase ActionTypes.ADD_TODO:\r\n\t\t\t// id属性计算：等于todos中id数值最大+1，Array.reduce()为计数函数。\r\n\t\t\treturn [\r\n\t\t\t\t...state,\r\n\t\t\t\t{\r\n\t\t\t\t\tid: state.reduce((maxId, todo) => Math.max(todo.id, maxId), -1) + 1,\r\n\t\t\t\t\tcompleted: false,\r\n\t\t\t\t\ttext: action.text\r\n\t\t\t\t}\r\n\t\t\t]\r\n\r\n\t\tcase ActionTypes.DELETE_TODO:\r\n\t\t\treturn state.filter(todo =>\r\n\t\t\t\ttodo.id !== action.id\r\n\t\t\t)\r\n\r\n\t\tcase ActionTypes.EDIT_TODO:\r\n\t\t\treturn state.map(todo =>\r\n\t\t\t\ttodo.id === action.id ? { ...todo,\r\n\t\t\t\t\ttext: action.text\r\n\t\t\t\t} :\r\n\t\t\t\ttodo\r\n\t\t\t)\r\n\r\n\t\tcase ActionTypes.COMPLETE_TODO:\r\n\t\t\treturn state.map(todo =>\r\n\t\t\t\ttodo.id === action.id ? { ...todo,\r\n\t\t\t\t\tcompleted: !todo.completed\r\n\t\t\t\t} :\r\n\t\t\t\ttodo\r\n\t\t\t)\r\n\r\n\t\tcase ActionTypes.COMPLETE_ALL_TODOS:\r\n\t\t\tconst areAllMarked = state.every(todo => todo.completed)\r\n\t\t\treturn state.map(todo => ({\r\n\t\t\t\t...todo,\r\n\t\t\t\tcompleted: !areAllMarked\r\n\t\t\t}))\r\n\r\n\t\tcase ActionTypes.CLEAR_COMPLETED:\r\n\t\t\treturn state.filter(todo => todo.completed === false)\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n// state[String] 过滤类型（全部、已完成、未完成）：默认为显示全部\r\nexport const visibilityFilter = (state = ActionTypes.SHOW_ALL, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase ActionTypes.SET_VISIBILITY_FILTER:\r\n\t\t\treturn action.filter\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport { todos, visibilityFilter } from './reducer'\r\nimport { createSelector } from 'reselect'\r\nimport undoable from 'redux-undo'\r\nimport * as FilterTypes from './actiontypes'\r\n\r\n// todos 任务列表增删改查\r\n// visibilityFilter设置滤逻条件\r\nexport default combineReducers({\r\n\ttodos: undoable(todos),\r\n\tvisibilityFilter\r\n})\r\n\r\nconst getVisibilityFilter = state => state.todo.visibilityFilter\r\nconst getTodos = state => state.todo.todos.present\r\n\r\n// 获得任务总数量\r\nexport const getTodosLength = createSelector([getTodos], (todos) => (\r\n\ttodos.length\r\n))\r\n\r\n// createSelector的作用在于缓存输入输出，若输入相同时则不会重新计算，直接返回输出值。\r\n// 获得过滤条件下的任务列表\r\nexport const getVisibleTodos = createSelector([getVisibilityFilter, getTodos], (visibilityFilter, todos) => {\r\n\tswitch(visibilityFilter) {\r\n\t\tcase FilterTypes.SHOW_ALL:\r\n\t\t\treturn todos\r\n\t\tcase FilterTypes.SHOW_COMPLETED:\r\n\t\t\treturn todos.filter(t => t.completed)\r\n\t\tcase FilterTypes.SHOW_ACTIVE:\r\n\t\t\treturn todos.filter(t => !t.completed)\r\n\t\tdefault:\r\n\t\t\tthrow new Error('Unknown filter: ' + visibilityFilter)\r\n\t}\r\n})\r\n\r\n// 获取已经完成的任务数量\r\nexport const getCompletedTodoCount = createSelector([getTodos], (todos) => (\r\n\ttodos.reduce((count, todo) => todo.completed ? count + 1 : count, 0)\r\n))\r\n// 等价于\r\n//export const getCompletedTodoCount = state => state.todo.todos.reduce((count, todo) => (todo.completed ? count + 1 : count), 0);","import { ADD_TO_CART, CHECKOUT_SUCCESS, CHECKOUT_FAILURE,RECEIVE_PRODUCTS } from './actiontypes'\r\nimport { combineReducers } from 'redux'\r\n\r\n// 初始化数据\r\nconst initialState = {\r\n\taddedIds: [],\r\n\tquantityById: {}\r\n}\r\n\r\n// 购物车里商品ID数组\r\nconst addedIds = (state = initialState.addedIds, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase ADD_TO_CART:\r\n\t\t\tif(state.indexOf(action.productId) !== -1) {\r\n\t\t\t\treturn state\r\n\t\t\t}\r\n\t\t\treturn [...state, action.productId]\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n// 购物车里指定ID的商品的数量\r\nconst quantityById = (state = initialState.quantityById, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase ADD_TO_CART:\r\n\t\t\tconst {productId} = action\r\n\t\t\treturn { ...state,[productId]: (state[productId] || 0) + 1}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n// 购物车数据集合\r\nexport const cart = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase CHECKOUT_SUCCESS:\r\n\t\t\t// 清空购物车成功\r\n\t\t\treturn initialState\r\n\t\tcase CHECKOUT_FAILURE:\r\n\t\t\t// 清空购物车失败\r\n\t\t\treturn action.cart\r\n\t\tdefault:\r\n\t\t\t// 购物车操作\r\n\t\t\treturn {\r\n\t\t\t\taddedIds: addedIds(state.addedIds, action),\r\n\t\t\t\tquantityById: quantityById(state.quantityById, action)\r\n\t\t\t}\r\n\t}\r\n}\r\n\r\n\r\n// 库存商品详细信息对象，商品ID值为对象属性\r\n// 如{1: {id: 1, title: \"iPad 4 Mini\", price: 500.01, inventory: 1}}，是否销售取决于visibleIds\r\nconst byId = (state = {}, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase RECEIVE_PRODUCTS:\r\n\t\t\t// 初始化数据\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.products.reduce((obj, product) => {\r\n\t\t\t\t\tobj[product.id] = product\r\n\t\t\t\t\treturn obj\r\n\t\t\t\t}, {})\r\n\t\t\t}\r\n\t\tcase ADD_TO_CART:\r\n\t\t\t//检测到ADD_TO_CART添加至购物车，则该商品库存数量减1,\r\n\t\t\tconst {productId} = action\r\n\t\t\tif(productId) {\r\n\t\t\t\tconst product = state[productId];\r\n\t\t\t\tconst updateProduct = {...product,inventory: product.inventory - 1}\r\n\t\t\t\treturn {...state, [productId]: updateProduct}\r\n\t\t\t}\r\n\t\t\treturn state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n// 允许对外销售的商品ID数组\r\nconst visibleIds = (state = [], action) => {\r\n\tswitch(action.type) {\r\n\t\tcase RECEIVE_PRODUCTS:\r\n\t\t\treturn action.products.map(product => product.id)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const products = combineReducers({\r\n\tbyId,\r\n\tvisibleIds\r\n})","import { combineReducers } from 'redux'\r\nimport { cart, products} from './reducer'\r\n\r\nexport default combineReducers({\r\n\tcart,\r\n\tproducts\r\n})\r\n\r\nconst getAddedIds = state => (state.shoppingcart.cart.addedIds)\r\nconst getQuantity = (state, id) => (state.shoppingcart.cart.quantityById[id] || 0)\r\nconst getProductById = (state, id) => (state.shoppingcart.products.byId[id])\r\nconst getProductsVisibleIds = (state) => (state.shoppingcart.products.visibleIds)\r\n\r\n// 获取购物车商品总价格 reduce(累加算法(总数，数组对象)，初始值)函数表示遍历数据并累加结果\r\nexport const getTotal = state => \r\n\tgetAddedIds(state).reduce((total, id) =>total + getProductById(state, id).price * getQuantity(state, id), 0).toFixed(2)\r\n\r\n// 获取购物车商品列表\r\nexport const getCartProducts = state =>\r\n\tgetAddedIds(state).map(id => ({...getProductById(state, id),quantity: getQuantity(state, id)}))\r\n\r\n// 获取在售的商品列表\r\nexport const getVisibleProducts = state => {\r\n\treturn getProductsVisibleIds(state).map(id => getProductById(state, id))\r\n}\r\n\t","export const ADD_TODO = 'ADD_TODO'\r\nexport const DELETE_TODO = 'DELETE_TODO'\r\nexport const EDIT_TODO = 'EDIT_TODO'\r\nexport const COMPLETE_TODO = 'COMPLETE_TODO'\r\nexport const COMPLETE_ALL_TODOS = 'COMPLETE_ALL_TODOS'\r\nexport const CLEAR_COMPLETED = 'CLEAR_COMPLETED'\r\nexport const SET_VISIBILITY_FILTER = 'SET_VISIBILITY_FILTER'\r\n\r\nexport const SHOW_ALL = 'SHOW_ALL'\r\nexport const SHOW_COMPLETED = 'SHOW_COMPLETED'\r\nexport const SHOW_ACTIVE = 'SHOW_ACTIVE'\r\n","\nvar content = require(\"!!../../../node_modules/_css-loader@1.0.0@css-loader/index.js?modules&localIdentName=[name]-[hash:base64:5]!../../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js!./index.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/_style-loader@0.23.0@style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/_css-loader@1.0.0@css-loader/index.js?modules&localIdentName=[name]-[hash:base64:5]!../../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js!./index.styl\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/_css-loader@1.0.0@css-loader/index.js?modules&localIdentName=[name]-[hash:base64:5]!../../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js!./index.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../node_modules/_css-loader@1.0.0@css-loader/index.js?modules&localIdentName=[name]-[hash:base64:5]!../../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js!./index.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/_style-loader@0.23.0@style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/_css-loader@1.0.0@css-loader/index.js?modules&localIdentName=[name]-[hash:base64:5]!../../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js!./index.styl\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/_css-loader@1.0.0@css-loader/index.js?modules&localIdentName=[name]-[hash:base64:5]!../../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js!./index.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}