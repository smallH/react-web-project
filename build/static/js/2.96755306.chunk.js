(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{271:function(t){t.exports=[{id:1,title:"iPad 4 Mini",price:500.01,inventory:2},{id:2,title:"T-Shirt",price:10.99,inventory:10},{id:3,title:"Sucker CD",price:19.99,inventory:5}]},277:function(t,e,n){"use strict";n.r(e);var r=n(10),c=n(11),u=n(14),i=n(12),a=n(13),o=n(0),l=n.n(o),d=n(23),s=(n(271),n(6)),p=n(29),f=n.n(p),m=function(){return function(t){var e=t.url,n=t.query;return f()({method:"get",url:e,params:Object(s.a)({},n)}).then(function(t){return t.status>=200&&t.status<300?t.data:Promise.reject(t)},function(t){return Promise.reject(t.message||t.data)})}({url:"data/products.json",query:{}}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},b=function(t,e,n){return setTimeout(function(){return e()},n||100)},v=n(19),y=function(){return function(t){m().then(function(e){var n;t((n=e,{type:v.d,products:n}))}).catch(function(t){console.log("\u8bf7\u6c42\u6570\u636e\u53d1\u751f\u9519\u8bef")})}},h=n(61),E=function(t){var e=t.price,n=t.quantity,r=t.title;return l.a.createElement("div",null,r," \u4ef7\u683c:$",e," \u6570\u91cf:",n)},k={buttonStyle:{backgroundColor:"#00746a",color:"white",padding:"5px"}},j=function(t){var e=t.product,n=t.onAddToCartClicked;return l.a.createElement("div",{style:{marginBottom:20}},l.a.createElement(E,{title:e.title,price:e.price,quantity:e.inventory}),l.a.createElement("button",{style:k.buttonStyle,onClick:n,disabled:e.inventory>0?"":"disabled"},e.inventory>0?"\u52a0\u5165\u8d2d\u7269\u8f66":"\u5546\u54c1\u5356\u5149\u4e86"))},C=function(t){var e=t.title,n=t.children;return l.a.createElement("div",null,l.a.createElement("h3",null,e),l.a.createElement("div",null,n))},O=Object(d.b)(function(t){return{products:Object(h.d)(t)}},{addToCart:function(t){return function(e,n){n().shoppingcart.products.byId[t].inventory>0&&e(function(t){return{type:v.a,productId:t}}(t))}}})(function(t){var e=t.products,n=t.addToCart;return l.a.createElement(C,{title:"\u5546\u54c1"},e.map(function(t){return l.a.createElement(j,{key:t.id,product:t,onAddToCartClicked:function(){return n(t.id)}})}))}),g={buttonStyle:{backgroundColor:"#00746a",color:"white",padding:"5px"}},w=function(t){var e=t.products,n=t.total,r=t.onCheckoutClicked,c=e.length>0,u=c?e.map(function(t){return l.a.createElement(E,{title:t.title,price:t.price,quantity:t.quantity,key:t.id})}):l.a.createElement("em",null,"(\u8d2d\u7269\u8f66\u6ca1\u6709\u4efb\u4f55\u5546\u54c1)");return l.a.createElement("div",null,l.a.createElement("h3",null,"\u6211\u7684\u8d2d\u7269\u8f66"),l.a.createElement("div",null,u),l.a.createElement("p",null,"\u603b\u91d1\u989d: $",n),l.a.createElement("button",{style:g.buttonStyle,onClick:r,disabled:c?"":"disabled"},"\u4ed8\u6b3e"))},q=Object(d.b)(function(t){return{products:Object(h.b)(t),total:Object(h.c)(t)}},{checkout:function(t){return function(e,n){var r=n().cart;b(t,function(){e({type:v.c,cart:r})})}}})(function(t){var e=t.products,n=t.total,r=t.checkout;return l.a.createElement(w,{products:e,total:n,onCheckoutClicked:function(){return r(e)}})}),S=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(u.a)(this,Object(i.a)(e).call(this,t))).state={},n}return Object(a.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){(0,this.props.init)()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"\u8d2d\u7269\u8f66\u5b9e\u4f8b"),l.a.createElement("hr",null),l.a.createElement(O,null),l.a.createElement("hr",null),l.a.createElement(q,null))}}]),e}(l.a.Component);e.default=Object(d.b)(null,function(t,e){return{init:function(){return t(y())}}})(S)}}]);
//# sourceMappingURL=2.96755306.chunk.js.map